# 마이크로서비스 식별 

## 도메인식별 -> 바운디드컨텍스트 -> 도메일모델링 -> 마이크로서비스식별
1. 예시 제선화성 - 하역
* 체선료(일정시간 이상 정박했을 때 요금)을 줄이는것 -> 선석스케줄 최적화 -> 하역기 최적화 -> 하역관제원 최적화 필요
  키워드 다나왔다!


성능은 자원의 문제
sql을 통해 성능을 높힌다? 이건 디비에서의 문제지 큰 시스템에서의 문젠 아니다.
네트워크리소스, ,,,, 등, 가비지컬렉션(이건 거의 최적화되어있다.)
업무와 기술을 명확히 구분. 기술은 계속 새로운 기술을 적용하여 효율성을 높히고 독립적이기 때문에
*유레카를 네이밍 서버로 지칭하심*

## 걷기 활동(walking activity)
* 브리핑데이터는 문서. 몽고디비를 사용.
* 쿼리를 통해 데이터를 가져오는게 아니라 메시지 큐를 통해 데이터를 가져옴(RabbitMQ)
* 이벤트는 항상 리플레이가 된다.
* 소통방식을 가장 느슨하게. 어싱크방식으로 메시지 큐를 통해..

* (MSA에서 바라보는 팀은 철저한분업이네.. - 칸반)*
* 도메인 모델러는 한명.클래스다이어그램 그려서 퍼블리셔, 서비스, 프론트 개발자에게 공유.
* 피자2판팀 - 8명정도.
* 총 40명 내외 팀이 이정도로 최적화.
* 견습이 들어갈 경우는 좀더 인원이 늘어남. 12명..
* 프론트, 퍼블리셔, 기술(아키텍처, 빌드배포, 클라우드), 도메인담당자 + SME(현업) 요정도 구성원이 최적
* 이런걸 MSA 전문가 해서 퉁쳐버리는 경향이 있음. (한사람만 보내서 니가 알아서해하는경우..)
* 저 인원이 한단위. 도메인전문가한명 + 세팀정도가 적당하다.(너무 팀이 늘어날 경우 도메인전문가도 힘이 듬)
* 편대비행(formation flying team)
* 도메인, 디자인은 내재화 없이 소싱으로 의존하는 경우가 많다. 윗선에서 이런 업무의 중요성을 인지하고 내재화해야 한다.
* MSA가 개발이 빠른 이유는 멈춰있는 시간이 없다. 계속 개발을 진행할 수 있다.(독립적으로 개발이 가능하기 때문)
  - 버전개념을 놓고 백로그를 둘수 있다.
  - 버전 0.1은 속성 5개정만 잡고 일단 고. 두번째는 클래스 잡아서 고. 그런식으로...
  - 설계가 곧 코딩

* 서비스는 전문가. 한가지만 잘할수 있도록.
* shared service ?
  - 기준정보에 대한건 최대한 없애는 방향으로 모델링.
  - 진짜 기준정보의 커버리지는 어디인가 파악해서 기준정보 자체도 다 독립
  - 자바의 enum으로 처리
  **- 비즈니스적으로 의미가 있는 코드는 코드화 하지 말고 의미들을 찾아서 enumeration 해라.
    (357이 left 이렇게 하지말고 left side로 의미 표현)**
  

